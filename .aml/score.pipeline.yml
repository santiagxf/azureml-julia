$schema: https://azuremlschemas.azureedge.net/latest/pipelineJob.schema.json
type: pipeline
display_name: julia_pipeline
jobs:
  run_model:
    type: command
    inputs:
      model_path:
        type: custom_model
        path: azureml:julia-model@latest
        mode: download
      input_dataset:
        type: uri_file
        path: https://azuremlexamples.blob.core.windows.net/datasets/iris.csv
    outputs:
      output_dataset:
    command: |
        julia model.jl --model-path ${{inputs.model_path}} --input-dataset ${{inputs.input_dataset}} --output-dataset ${{outputs.output_dataset}}
    code: src
    environment: azureml:julia-172-debian_bullseye-cpu@latest
    compute: azureml:trainer-cpu